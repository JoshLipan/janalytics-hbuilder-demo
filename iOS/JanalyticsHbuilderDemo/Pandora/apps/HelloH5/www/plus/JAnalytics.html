<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta name="MobileOptimized" content="320"/>
  <title>JPush HBuilder Demo</title>
  <link href="../css/jquery.mobile-1.1.1.css" rel="stylesheet"/>
  <script src="../js/jquery.js"></script>
  <script src="../js/jquery.mobile-1.1.1.js"></script>
  <script src="../js/common.js"></script>
  <script src="../js/janalytics.js"></script>
  <script type="text/javascript">

  function onStartLogPageView() {
    alert('onStartLogPageView' + JSON.stringify(plus.JAnalytics))
    plus.JAnalytics.startLogPageView({pageName: "HBuilder page naem"})
  }

  function onStopLogPageView() {
    plus.JAnalytics.stopLogPageView({pageName: "HBuilder page naem"})
  }
  
  function onUploadLocation() {
    plus.JAnalytics.uploadLocation({latitude: 0.4, longitude: 0.5})
  }

  function onLoginPress() {
    var LoginEvent = {
      type: 'login',
      extra: {
        userId: "user1"
      },
      method: "login",
      success: true
    };
    plus.JAnalytics.postEvent(LoginEvent);
  }

  function onRegisterPress() {
    var RegisterEvent = {
      type: "register",
      extra: {
        userId: "user2"
      },
      method: "register",
      success: true
    };
    plus.JAnalytics.postEvent(RegisterEvent);
  }

  function onPurchasePress() {
    var PurchaseEvent = {
      goodsId: '123',
      type: 'purchase',
      extra: {
        userId: 'user2',
        customKey1: 'custom var1',
        customKey2: 'custom var2',
        customKey3: 'custom var3',
        customKey4: 'custom var4',
        customKey5: 'custom var5',
      },
      goodsType: 'sports',
      goodsName: 'basketball',
      price: 300,
      currency: 'CNY',
      count: 1,
      success: true
    };
    plus.JAnalytics.postEvent(PurchaseEvent);
  }

  function onCountPress() {
    var CountEvent = {
      id: 'count1',
      extra: {
        userId: 'user1'
      },
      type: 'count'
    };
    plus.JAnalytics.postEvent(CountEvent);
  }

  function onCalculatePress() {
    var CalculateEvent = {
      id: 'calculate1',
      extra: {
        userId: 'user1'
      },
      type: 'calculate',
      value: 200
    };
    plus.JAnalytics.postEvent(CalculateEvent);
  }

  function onBrowsePress() {
    var BrowseEvent = {
      id: 'browse1',
      name: 'shenzhen news',
      type: 'browse',
      extra: {
        userId: 'user1'
      },
      contentType: 'news',
      duration: 60
    };
    alert(JSON.stringify(plus.JAnalytics))
    plus.JAnalytics.postEvent(BrowseEvent);
  }
  </script>
  <style type="text/css">
    .listItem {
      background:#3e83d7;
      width: 200px;
      height: 30px;
      align-content: center;
      vertical-align: middle;
      text-align: center;
      color: #ffffff;
      margin: 10px
    }
    .listItem :hover {
      background:#2d67ad;
      width: 200px;
      height: 30px;
      align-content: center;
      vertical-align: middle;
      text-align: center;
      color: #ffffff;
      margin: 10px
    }
  </style>
</head>

<body>
<div data-role="page" id="page">
  <div data-role="content">
    <div class='listItem' onclick="onStartLogPageView()">onStartLogPageView</div>
    <div class='listItem' onclick="onStopLogPageView()">onStopLogPageView</div>
    <div class='listItem' onclick="onUploadLocation()">onUploadLocation</div>
    <div class='listItem' onclick="onLoginPress()">onLoginPress</div>
    <div class='listItem' onclick="onRegisterPress()">onRegisterPress</div>
    <div class='listItem' onclick="onPurchasePress()">onPurchasePress</div>
    <div class='listItem' onclick="onCountPress()">onCountPress</div>
    <div class='listItem' onclick="onCalculatePress()">onCalculatePress</div>
    <div class='listItem' onclick="onBrowsePress()">onBrowsePress</div>
  </div>
</div>
</body>
</html>
